Search.setIndex({"docnames": ["entrypoints/analysis", "entrypoints/bpm_calibration", "entrypoints/kickgroups", "entrypoints/lsa_to_madx", "entrypoints/machine_info", "index", "modules/calibration", "modules/constants", "modules/data_extract", "modules/utils"], "filenames": ["entrypoints/analysis.rst", "entrypoints/bpm_calibration.rst", "entrypoints/kickgroups.rst", "entrypoints/lsa_to_madx.rst", "entrypoints/machine_info.rst", "index.rst", "modules/calibration.rst", "modules/constants.rst", "modules/data_extract.rst", "modules/utils.rst"], "titles": ["Analysis Tools", "BPM Calibration", "KickGroup Informations", "LSA Knobs to MAD-X Expressions Converter", "Machine Information Tools", "Welcome to PyLHC\u2019s documentation!", "BPM Calibration Utilities", "Constants Definitions", "Data Extraction", "Utilities"], "terms": {"top": 0, "level": 0, "script": [0, 1, 3, 4, 5, 6, 7], "queri": 0, "brst": 0, "data": [0, 2, 4, 5, 9], "perform": 0, "an": [0, 3, 4, 6], "output": [0, 1, 3, 4, 9], "gener": [0, 3], "plot": 0, "The": [0, 1, 2, 3, 4, 6, 9], "run": [0, 3, 4], "through": [0, 4, 8], "follow": [0, 3], "step": 0, "process": [0, 8], "file": [0, 2, 3, 4, 6, 9], "bsrt_logger": 0, "py": [0, 2, 3, 4, 6], "given": [0, 2, 3, 4, 6, 8], "timefram": 0, "return": [0, 2, 3, 4, 6, 7, 8], "them": 0, "tfsdatafram": [0, 2, 3, 8, 9], "further": 0, "addition": 0, "quick": 0, "check": [0, 8], "fit": [0, 6], "paramet": [0, 2, 3, 4, 6, 8, 9], "auxiliari": 0, "variabl": [0, 2, 3], "beam": [0, 1, 8], "evolut": 0, "ar": [0, 2, 3, 4, 6, 8, 9], "If": [0, 2, 3, 4, 8], "provid": [0, 2, 3, 4, 8], "timestamp": [0, 2, 4, 8], "2d": 0, "distribut": 0, "comparison": [0, 1], "cross": 0, "section": 0, "ad": 0, "procedur": 0, "describ": 0, "carlierforcedda2019": 0, "argument": [0, 1, 2, 4, 8], "requir": [0, 1, 4], "int": [0, 1, 2, 6], "us": [0, 1, 2, 3, 4, 5, 6, 7, 8], "flag": [0, 1], "b": 0, "choic": [0, 1, 8], "1": [0, 1, 3], "2": 0, "energi": [0, 7], "multiclass": 0, "gev": 0, "e": [0, 4, 8], "kick_directori": 0, "contain": [0, 4, 6], "kick": [0, 2], "k": 0, "kickdir": 0, "plane": [0, 6], "str": [0, 1, 2, 3, 4, 6, 8, 9], "p": 0, "x": [0, 5, 6, 8], "y": [0, 4], "option": [0, 1, 2, 3, 4, 8], "emittance_outlier_limit": 0, "float": [0, 3, 4], "limit": 0, "i": [0, 4, 8], "cut": 0, "from": [0, 1, 2, 4, 6, 8, 9], "mean": [0, 2], "emitt": 0, "outlier": 0, "meter": 0, "default": [0, 1, 2, 3, 4, 8], "5e": 0, "07": 0, "emittance_tf": 0, "datafram": [0, 2, 3, 6, 8, 9], "path": [0, 1, 2, 3, 4, 6, 9], "pre": 0, "save": [0, 4], "tf": [0, 3, 4, 6, 9], "emittance_typ": 0, "which": [0, 3, 8], "databas": 0, "fit_sigma": 0, "averag": 0, "emittance_window_length": 0, "length": 0, "move": [0, 8], "window": 0, "point": [0, 4], "100": 0, "fill": [0, 8], "wa": [0, 8], "out": [0, 2, 3, 4, 8], "time_around_kick": 0, "f": [0, 2, 4], "function": [0, 1, 2, 3, 4, 6, 8], "rearrang": 0, "make": 0, "sens": 0, "exponenti": 0, "linear": 0, "intensity_tf": 0, "intens": 0, "intensity_time_after_kick": 0, "defin": [0, 2, 3, 4], "time": [0, 3, 4, 8], "after": 0, "second": 0, "calcul": [0, 1], "loss": 0, "5": [0, 1, 3], "30": 0, "intensity_time_before_kick": 0, "befor": 0, "normalized_emitt": 0, "assum": 0, "normal": 0, "nomin": 0, "machin": [0, 3, 5], "3": 0, "7499999999999997e": 0, "06": 0, "output_directori": 0, "subfold": 0, "o": 0, "outdir": 0, "pagestore_db": 0, "presav": 0, "timber": 0, "show": [0, 2, 3, 4], "action": [0, 4], "store_tru": [0, 4], "show_wirescan_emitt": 0, "boolorpathordatafram": 0, "wirescan": 0, "should": [0, 2, 3, 8], "also": [0, 4, 8], "shown": 0, "can": [0, 3, 4], "bw": 0, "fals": 0, "timber_db": 0, "all": [0, 2, 3, 4, 8], "mdb": 0, "ldb": 0, "nxcal": [0, 4, 8], "thi": [0, 1, 2, 3, 4, 6, 8], "minut": 0, "when": [0, 3], "first": [0, 2, 8], "last": [0, 2, 8], "extract": [0, 3, 4, 5], "10": 0, "plot_styl": 0, "style": 0, "either": [0, 1, 2], "omc3": [0, 8], "mpl": 0, "standard": 0, "manual_styl": 0, "dictasstr": 0, "addit": 0, "rcparamet": 0, "updat": 0, "set": [0, 8], "predefin": 0, "ones": [0, 2], "author": [0, 4], "jdilli": [0, 4, 8], "class": [0, 4, 8], "pylhc": [0, 2, 3, 4, 6, 7, 8, 9], "forced_da_analysi": 0, "valu": [0, 2, 3, 4, 6], "sourc": [0, 2, 3, 4, 6, 7, 8, 9], "A": [0, 2, 3, 4, 8], "behav": 0, "like": [0, 8], "boolean": 0, "possibl": [0, 4], "otherwis": [0, 4], "string": [0, 3, 4, 8], "pathordatafram": 0, "alia": 0, "somethingorpath": 0, "pathorpagestor": 0, "pathorstr": [0, 4], "fun_exp_decai": 0, "sp": 0, "da_j": 0, "0": [0, 3], "2j": 0, "re": 0, "fun_exp_sigma": 0, "da_sigma": 0, "j_sigma": 0, "fun_linear": 0, "swap_fun_paramet": 0, "fun": 0, "swap": 0, "curvefit": 0, "comput": [1, 6], "factor": [1, 3, 6], "lhc": [1, 3, 4, 6, 8], "beta": [1, 3, 7], "phase": [1, 3, 6], "method": [1, 6], "dispers": 1, "one": [1, 3, 4, 9], "optic": [1, 3, 4, 8], "quantiti": 1, "independ": 1, "depend": 1, "name": [1, 2, 3, 4, 6, 8, 9], "compar": 1, "advanc": [1, 3], "amplitud": 1, "betatron": 1, "oscil": 1, "other": 1, "its": [1, 3, 6], "current": [1, 4], "discourag": 1, "due": 1, "wors": 1, "resolut": 1, "inputdir": 1, "measur": 1, "input": 1, "ip": [1, 3, 6], "4": 1, "outputdir": 1, "directori": [1, 2, 4, 6], "where": [1, 8], "write": [1, 3, 4, 9], "list": [2, 3, 4, 6, 8], "usag": [2, 3, 4], "h": [2, 3, 4], "info": [2, 4, 8], "help": [2, 3, 4, 7], "messag": [2, 3, 4], "exit": [2, 3, 4], "root": 2, "sort": [2, 8], "group": [2, 8, 9], "posit": [2, 6], "integ": 2, "onli": [2, 4, 6, 8, 9], "sdd": 2, "neg": 2, "most": 2, "recent": 2, "zero": 2, "get_folder_json_fil": 2, "union": [2, 8, 9], "posixpath": 2, "user": [2, 4], "slop": 2, "lhc_data": 2, "op_data": 2, "betabeat": 2, "multiturn_acq_group": 2, "json": 2, "folder": [2, 4], "nf": 2, "our": 2, "object": [2, 4, 6, 8], "within": 2, "get_kickgroup_info": 2, "kick_group": 2, "gather": [2, 3, 4], "import": [2, 8], "about": [2, 4], "correspond": [2, 3, 6], "without": [2, 8], "extens": [2, 8], "pathlib": 2, "altern": 2, "load": 2, "list_available_kickgroup": 2, "printout": 2, "bool": 2, "true": 2, "avail": [2, 8], "column": [2, 4, 6], "whether": 2, "print": 2, "load_kickfil": 2, "kickfil": 2, "seri": 2, "relev": 2, "variou": [2, 3], "entri": [2, 8], "constant": [2, 5], "kick_column": 2, "show_kickgroup_fil": 2, "nfile": 2, "none": [2, 4, 8], "wrapper": 2, "around": 2, "filepath": 2, "consol": [2, 4], "number": [2, 3], "show_kickgroup_info": 2, "meant": 3, "equival": 3, "lsa_to_madx": 3, "each": [3, 4, 6], "retriev": [3, 7], "affect": 3, "power": 3, "circuit": [3, 8], "determin": 3, "chang": 3, "It": [3, 8], "both": [3, 6], "definit": [3, 4, 5], "reproduc": 3, "full": 3, "ani": [3, 8], "strength": [3, 8], "singl": [3, 8], "written": [3, 4, 9], "per": [3, 9], "line": [3, 4], "start": [3, 4, 8], "charact": 3, "ignor": 3, "One": 3, "simpli": 3, "want": 3, "find": [3, 8], "wai": 3, "For": [3, 4], "instanc": [3, 8], "lhcbeam": 3, "md_ats_2022_05_04_b1_rigidwaitsshift_ip1po": 3, "r2022a_a30cmc30cma10ml200cm": 3, "would": 3, "python": [3, 4], "m": [3, 4], "two": [3, 4], "lhcbeam_md_ats_2022_05_04_b1_rigidwaitsshift_ip1pos_definit": 3, "lhcbeam_md_ats_2022_05_04_b1_rigidwaitsshift_ip1pos_knob": 3, "madx": 3, "disk": [3, 4], "In": 3, "48": 3, "more": [3, 4], "caus": 3, "issu": 3, "As": 3, "consequ": 3, "automat": [3, 4], "truncat": 3, "need": [3, 8, 9], "creat": [3, 8], "trim": [3, 4, 8], "surpris": 3, "long": 3, "appear": 3, "slightli": 3, "differ": 3, "stai": 3, "intact": 3, "lead": 3, "trim_d_ats_2022_05_04_b1_rigidwaitsshift_ip1po": 3, "order": 3, "specif": [3, 7], "configur": 3, "text": 3, "feed": 3, "hold": 3, "txt": 3, "2017": 3, "nonlinear": 3, "correct": [3, 8], "2017_irnl_ir1a4": 3, "2017_irnl_ir1b3_couplfd": 3, "2017_irnl_a3b3_tunefd": 3, "2017_irnl_b4": 3, "2017_nl_ir1_30cm_kcssxr1": 3, "2018_irnl_ir1a3": 3, "2018_irnl_ir1b3": 3, "2018_irnl_ir5a3": 3, "ir5_a4_2018": 3, "local": 3, "corrector": 3, "close": 3, "2017_ats_inj_localcoupl": 3, "2017_ats_localcorrect": 3, "chromat": 3, "coupl": 3, "chromatic_coupling_b1_40cm_ctpps2_2017_v2": 3, "chromatic_coupling_b2_40cm_ctpps2_2017": 3, "beat": 3, "b1_global_beta_beating_40cm_ctpps_2017_v2": 3, "b2_global_beta_beating_40cm_ctpps_2017": 3, "2017_beam1_beta_crossinganglecompens": 3, "2017_30cm_globalcorr_wxing_beam2_v2": 3, "b2_2017_global_correction_x": 3, "total": 3, "2017_b2_mqt_total_phase_correct": 3, "b1_2017_mqt_total_phase_correct": 3, "arc": 3, "global_coup_knob_all_corrector": 3, "get": [3, 4, 8], "appropri": 3, "case": 3, "mani": 3, "call": [3, 4, 8], "r2017at_a30c30a10ml300_ctpps2": 3, "hint": 3, "activ": [3, 8], "machine_settings_info": [3, 4], "get_madx_script_from_definition_datafram": 3, "deltas_df": 3, "lsa_knob": 3, "get_knob_circuit": [3, 8], "command": [3, 4], "obtain": 3, "complet": 3, "includ": 3, "12": 3, "part": 3, "parse_knobs_and_trim_values_from_fil": 3, "knobs_fil": 3, "dict": [3, 4, 6, 8], "pars": 3, "kei": [3, 4, 8, 9], "associ": [3, 6], "over": 4, "summari": 4, "log": 4, "knob": [4, 5, 8], "breviti": 4, "reason": 4, "histori": [4, 8], "well": 4, "get_info": 4, "start_tim": [4, 8], "accel": 4, "output_dir": 4, "knob_definit": 4, "utc": 4, "d": 4, "s": [4, 6, 8], "format": 4, "act": 4, "end": [4, 8], "begin": 4, "rang": 4, "knobnam": 4, "acceler": [4, 8], "done": 4, "accdatetimeorstr": 4, "accept": 4, "accdatetim": [4, 8], "opt": 4, "beamprocess": [4, 8], "keyword": 4, "dictionari": [4, 8], "trim_histori": 4, "type": [4, 6, 8], "log_summari": 4, "acc_tim": [4, 8], "bp_info": 4, "dotdict": 4, "optics_info": 4, "write_knob_defit": 4, "output_path": 4, "write_summari": 4, "write_trim_histori": 4, "trim_hisotri": 4, "namedtupl": [4, 8], "acc_start_tim": 4, "There": 4, "thei": 4, "usual": 4, "easier": 4, "handl": 4, "human": 4, "readabl": 4, "via": 4, "lsa": [4, 5, 8], "get_trim_histori": [4, 8], "dure": 4, "ii": 4, "detail": 4, "later": 4, "analysi": [4, 5], "timestep": 4, "put": 4, "append": 4, "pickl": 4, "proper": 4, "test": 4, "commun": 4, "fesa": 4, "technic": 4, "network": 4, "origin": 4, "maclean": 4, "t": [4, 8], "persson": 4, "g": [4, 8], "trad": 4, "collect": 5, "tool": 5, "omc": 5, "team": 5, "cern": [5, 8], "bpm": 5, "calibr": 5, "kickgroup": 5, "inform": [5, 7], "mad": [5, 8], "express": [5, 8], "convert": 5, "util": 5, "index": 5, "search": 5, "page": 5, "get_calibration_factors_from_beta": 6, "intend": 6, "bpm_calibr": 6, "sequenc": 6, "input_path": 6, "main": 6, "along": 6, "error": 6, "result": 6, "6": 6, "error_calibr": 6, "abov": 6, "calibration_fit": 6, "error_calibration_fit": 6, "pd": 6, "get_calibration_factors_from_dispers": 6, "base": 6, "consist": 7, "get_proton_beta": 7, "relativist": 7, "proton": 7, "get_proton_gamma": 7, "gamma": 7, "relat": [7, 9], "modul": 8, "conveni": 8, "wrap": 8, "pjlsa": 8, "data_extract": 8, "client": 8, "instanti": 8, "disadvantag": 8, "alwai": 8, "server": 8, "lsaclient": 8, "arg": 8, "kwarg": [8, 9], "find_active_beamprocess_at_tim": 8, "bp_group": 8, "powerconvert": 8, "same": 8, "what": 8, "onlin": 8, "model": 8, "extractor": 8, "knobextractor": 8, "doe": 8, "datetim": 8, "adt": 8, "kicker": 8, "spool": 8, "collim": 8, "domain": 8, "spi": 8, "standalonebeamprocessimpl": 8, "find_beamprocess_histori": 8, "t_start": 8, "t_end": 8, "between": 8, "adapt": 8, "findbeamprocesshistori": 8, "pass": [8, 9], "trial": 8, "loop": 8, "pytimb": 8, "find_existing_knob": 8, "exist": [8, 9], "filter": 8, "do": 8, "belong": 8, "note": 8, "_gettrimsbybeamprocess": 8, "while": [8, 9], "crash": 8, "probabl": 8, "have": 8, "been": 8, "_buildparameterlist": 8, "actual": 8, "find_knob_nam": 8, "regexp": 8, "regular": 8, "find_last_fil": 8, "tupl": 8, "get_beamprocess_info": 8, "context": 8, "knob_nam": 8, "structur": 8, "similar": 8, "getknobhiercarchi": 8, "get_madx_name_from_circuit": 8, "end_tim": 8, "specifi": 8, "direct": 8, "trimtupl": 8, "lsameta": 8, "metaclass": 8, "try_to_acquire_data": 8, "callabl": 8, "tri": 8, "multipl": 8, "todo": 8, "bbq": 8, "db": 8, "find_exact_time_for_beamprocess": 8, "hx": 8, "srmp": 8, "pow": 8, "equal": 8, "123": 8, "accord": 8, "event": 8, "squeez": 8, "ramp": 8, "don": 8, "think": 8, "read": 9, "necessarili": 9, "tfs_tool": 9, "read_hdf": 9, "hdf5": 9, "store": 9, "header": 9, "write_hdf": 9, "df": 9, "frame": 9, "allow": 9, "panda": 9, "to_hdf": 9, "mode": 9, "w": 9, "alreadi": 9}, "objects": {"pylhc": [[1, 0, 0, "-", "bpm_calibration"], [0, 0, 0, "-", "bsrt_analysis"], [4, 0, 0, "-", "bsrt_logger"], [0, 0, 0, "-", "forced_da_analysis"], [2, 0, 0, "-", "kickgroups"], [3, 0, 0, "-", "lsa_to_madx"], [4, 0, 0, "-", "machine_settings_info"]], "pylhc.calibration": [[6, 0, 0, "-", "beta"], [6, 0, 0, "-", "dispersion"]], "pylhc.calibration.beta": [[6, 1, 1, "", "get_calibration_factors_from_beta"]], "pylhc.calibration.dispersion": [[6, 1, 1, "", "get_calibration_factors_from_dispersion"]], "pylhc.constants": [[7, 0, 0, "-", "calibration"], [7, 0, 0, "-", "forced_da_analysis"], [7, 0, 0, "-", "general"], [7, 0, 0, "-", "kickgroups"], [7, 0, 0, "-", "machine_settings_info"]], "pylhc.constants.general": [[7, 1, 1, "", "get_proton_beta"], [7, 1, 1, "", "get_proton_gamma"]], "pylhc.data_extract": [[8, 0, 0, "-", "lsa"], [8, 0, 0, "-", "timber"]], "pylhc.data_extract.lsa": [[8, 2, 1, "", "LSA"], [8, 2, 1, "", "LSAClient"], [8, 2, 1, "", "LSAMeta"], [8, 1, 1, "", "try_to_acquire_data"]], "pylhc.data_extract.lsa.LSAClient": [[8, 3, 1, "", "find_active_beamprocess_at_time"], [8, 3, 1, "", "find_beamprocess_history"], [8, 3, 1, "", "find_existing_knobs"], [8, 3, 1, "", "find_knob_names"], [8, 3, 1, "", "find_last_fill"], [8, 3, 1, "", "get_beamprocess_info"], [8, 3, 1, "", "get_knob_circuits"], [8, 3, 1, "", "get_madx_name_from_circuit"], [8, 3, 1, "", "get_trim_history"]], "pylhc.data_extract.timber": [[8, 1, 1, "", "find_exact_time_for_beamprocess"]], "pylhc.forced_da_analysis": [[0, 2, 1, "", "BoolOrPathOrDataFrame"], [0, 4, 1, "", "PathOrDataframe"], [0, 4, 1, "", "PathOrPagestore"], [0, 4, 1, "", "PathOrString"], [0, 1, 1, "", "fun_exp_decay"], [0, 1, 1, "", "fun_exp_sigma"], [0, 1, 1, "", "fun_linear"], [0, 1, 1, "", "swap_fun_parameters"]], "pylhc.kickgroups": [[2, 1, 1, "", "get_folder_json_files"], [2, 1, 1, "", "get_kickgroup_info"], [2, 1, 1, "", "list_available_kickgroups"], [2, 1, 1, "", "load_kickfile"], [2, 1, 1, "", "show_kickgroup_files"], [2, 1, 1, "", "show_kickgroup_info"]], "pylhc.lsa_to_madx": [[3, 1, 1, "", "get_madx_script_from_definition_dataframe"], [3, 1, 1, "", "parse_knobs_and_trim_values_from_file"]], "pylhc.machine_settings_info": [[4, 2, 1, "", "AccDatetimeOrStr"], [4, 1, 1, "", "get_info"], [4, 1, 1, "", "log_summary"], [4, 1, 1, "", "write_knob_defitions"], [4, 1, 1, "", "write_summary"], [4, 1, 1, "", "write_trim_histories"]], "pylhc.utils": [[9, 0, 0, "-", "tfs_tools"]], "pylhc.utils.tfs_tools": [[9, 1, 1, "", "read_hdf"], [9, 1, 1, "", "write_hdf"]]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:class", "3": "py:method", "4": "py:attribute"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "class", "Python class"], "3": ["py", "method", "Python method"], "4": ["py", "attribute", "Python attribute"]}, "titleterms": {"analysi": [0, 7], "tool": [0, 4, 9], "bsrt": [0, 4], "forc": [0, 7], "da": [0, 7], "bpm": [1, 6, 7], "calibr": [1, 6, 7], "kickgroup": [2, 7], "inform": [2, 4], "lsa": 3, "knob": 3, "mad": 3, "x": 3, "express": 3, "convert": 3, "machin": [4, 7], "print": 4, "set": [4, 7], "overview": 4, "logger": 4, "welcom": 5, "pylhc": 5, "s": 5, "document": 5, "packag": 5, "refer": 5, "entrypoint": 5, "modul": 5, "indic": 5, "tabl": 5, "util": [6, 9], "beta": 6, "dispers": 6, "constant": 7, "definit": 7, "gener": 7, "info": 7, "data": 8, "extract": 8, "pylsa": 8, "timber": 8, "addit": 9, "io": 9}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx.ext.todo": 2, "sphinx.ext.viewcode": 1, "sphinx": 56}})