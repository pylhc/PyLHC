<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Data Extraction &mdash; pylhc 0.6.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Utilities" href="utils.html" />
    <link rel="prev" title="Constants Definitions" href="constants.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> pylhc
            <img src="../_static/omc_logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.6
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Entrypoints</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../entrypoints/analysis.html">Analysis Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/analysis.html#bsrt-analysis">BSRT Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/analysis.html#forced-da-analysis">Forced DA Analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../entrypoints/bpm_calibration.html">BPM Calibration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/bpm_calibration.html#id1">BPM Calibration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../entrypoints/kickgroups.html">KickGroup Informations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/kickgroups.html#kickgroups">Kickgroups</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../entrypoints/machine_info.html">Machine Information Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/machine_info.html#print-machine-settings-overview">Print Machine Settings Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entrypoints/machine_info.html#bsrt-logger">BSRT logger</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="calibration.html">BPM Calibration Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="calibration.html#beta">Beta</a></li>
<li class="toctree-l2"><a class="reference internal" href="calibration.html#dispersion">Dispersion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="constants.html">Constants Definitions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="constants.html#constants-general">Constants: General</a></li>
<li class="toctree-l2"><a class="reference internal" href="constants.html#constants-forced-da-analysis">Constants: Forced DA Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="constants.html#constants-kickgroups">Constants: KickGroups</a></li>
<li class="toctree-l2"><a class="reference internal" href="constants.html#constants-machine-settings-info">Constants: Machine Settings Info</a></li>
<li class="toctree-l2"><a class="reference internal" href="constants.html#constants-bpm-calibration">Constants: BPM Calibration</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data Extraction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pylsa">PyLSA</a></li>
<li class="toctree-l2"><a class="reference internal" href="#timber">Timber</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utils.html#additional-io-tools">Additional IO-Tools</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pylhc</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Data Extraction</li>
      <li class="wy-breadcrumbs-aside">
              <!-- User defined GitHub URL -->
              <a href="https://github.com/pylhc/pylhc" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-pylhc.data_extract.lsa">
<span id="data-extraction"></span><h1>Data Extraction<a class="headerlink" href="#module-pylhc.data_extract.lsa" title="Permalink to this headline"></a></h1>
<section id="pylsa">
<h2>PyLSA<a class="headerlink" href="#pylsa" title="Permalink to this headline"></a></h2>
<p>This module provides useful functions to conveniently wrap the functionality of <code class="docutils literal notranslate"><span class="pre">pjlsa</span></code>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pylhc.data_extract.lsa.LSA">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pylhc.data_extract.lsa.</span></span><span class="sig-name descname"><span class="pre">LSA</span></span><a class="reference internal" href="../_modules/pylhc/data_extract/lsa.html#LSA"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylhc.data_extract.lsa.LSA" title="Permalink to this definition"></a></dt>
<dd><p>Import this class to use LSA like the client without the need to instantiate it.
Disadvantage: It will always use the default Server.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pylhc.data_extract.lsa.LSAClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pylhc.data_extract.lsa.</span></span><span class="sig-name descname"><span class="pre">LSAClient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylhc/data_extract/lsa.html#LSAClient"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylhc.data_extract.lsa.LSAClient" title="Permalink to this definition"></a></dt>
<dd><p>Extension of the LSAClient.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pylhc.data_extract.lsa.LSAClient.find_active_beamprocess_at_time">
<span class="sig-name descname"><span class="pre">find_active_beamprocess_at_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">acc_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pylhc.github.io/omc3/modules/utils.html#omc3.utils.time_tools.AccDatetime" title="(in omc3 v0.2)"><span class="pre">omc3.utils.time_tools.AccDatetime</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">accelerator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'lhc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bp_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'POWERCONVERTERS'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylhc/data_extract/lsa.html#LSAClient.find_active_beamprocess_at_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylhc.data_extract.lsa.LSAClient.find_active_beamprocess_at_time" title="Permalink to this definition"></a></dt>
<dd><p>Find the active beam process at the time given.
Same as what online model extractor (KnobExtractor) does.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>acc_time</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">AccDatetime</span></code>) -- Accelerator datetime object.</p></li>
<li><p><strong>accelerator</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- Name of the accelerator.</p></li>
<li><p><strong>bp_group</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- BeamProcess Group, choices : ‘POWERCONVERTERS’, ‘ADT’, ‘KICKERS’, ‘SPOOLS’, ‘COLLIMATORS’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>‘cern.lsa.domain.settings.spi.StandAloneBeamProcessImpl’</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylhc.data_extract.lsa.LSAClient.find_beamprocess_history">
<span class="sig-name descname"><span class="pre">find_beamprocess_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t_start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pylhc.github.io/omc3/modules/utils.html#omc3.utils.time_tools.AccDatetime" title="(in omc3 v0.2)"><span class="pre">omc3.utils.time_tools.AccDatetime</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pylhc.github.io/omc3/modules/utils.html#omc3.utils.time_tools.AccDatetime" title="(in omc3 v0.2)"><span class="pre">omc3.utils.time_tools.AccDatetime</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">accelerator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'lhc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'nxcals'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a></span></span><a class="reference internal" href="../_modules/pylhc/data_extract/lsa.html#LSAClient.find_beamprocess_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylhc.data_extract.lsa.LSAClient.find_beamprocess_history" title="Permalink to this definition"></a></dt>
<dd><p>Finds the BeamProcesses between t_start and t_end and sorts then by fills.
Adapted from pjlsa’s FindBeamProcessHistory but with source pass-through
and trial-loop.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t_start</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">AccDatetime</span></code>) -- start time</p></li>
<li><p><strong>t_end</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">AccDatetime</span></code>) -- end time</p></li>
<li><p><strong>accelerator</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- Name of the accelerator.</p></li>
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- pytimber source</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary of fills (keys) with a list of Timestamps and BeamProcesses.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylhc.data_extract.lsa.LSAClient.find_existing_knobs">
<span class="sig-name descname"><span class="pre">find_existing_knobs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">knobs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/pylhc/data_extract/lsa.html#LSAClient.find_existing_knobs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylhc.data_extract.lsa.LSAClient.find_existing_knobs" title="Permalink to this definition"></a></dt>
<dd><p>Return only the knobs that exist from the given list.
This function was created out of the need to filter these first,
as knobs that exist but do not belong to a beamprocess return noting in
_getTrimsByBeamprocess, while knobs that do not exist at all crashed pjlsa.
This filter should probably have been in pjlsa’s _buildParameterList.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>knobs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>) -- List of strings of the knobs to check.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of the knob names that actually exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylhc.data_extract.lsa.LSAClient.find_knob_names">
<span class="sig-name descname"><span class="pre">find_knob_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">accelerator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'lhc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regexp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a></span></span><a class="reference internal" href="../_modules/pylhc/data_extract/lsa.html#LSAClient.find_knob_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylhc.data_extract.lsa.LSAClient.find_knob_names" title="Permalink to this definition"></a></dt>
<dd><p>Return knobs for accelerator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>accelerator</strong> -- Accelerator name.</p></li>
<li><p><strong>regexp</strong> -- Regular Expression to filter knob names.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Sorted list of knob names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylhc.data_extract.lsa.LSAClient.find_last_fill">
<span class="sig-name descname"><span class="pre">find_last_fill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">acc_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pylhc.github.io/omc3/modules/utils.html#omc3.utils.time_tools.AccDatetime" title="(in omc3 v0.2)"><span class="pre">omc3.utils.time_tools.AccDatetime</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">accelerator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'lhc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'nxcals'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/pylhc/data_extract/lsa.html#LSAClient.find_last_fill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylhc.data_extract.lsa.LSAClient.find_last_fill" title="Permalink to this definition"></a></dt>
<dd><p>Return last fill name and BeamProcesses.</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>acc_time (AccDatetime): Accelerator datetime object.
accelerator (str): Name of the accelerator.
source (str): pytimber source</p>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Last fill name (str), Beamprocesses of last fill (list).</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylhc.data_extract.lsa.LSAClient.get_beamprocess_info">
<span class="sig-name descname"><span class="pre">get_beamprocess_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beamprocess</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><span class="pre">object</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a></span></span><a class="reference internal" href="../_modules/pylhc/data_extract/lsa.html#LSAClient.get_beamprocess_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylhc.data_extract.lsa.LSAClient.get_beamprocess_info" title="Permalink to this definition"></a></dt>
<dd><p>Get context info of the given beamprocess.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>beamprocess</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str,</span> <span class="pre">object</span></code>) -- Name of the beamprocess or Beamprocess object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary with context info.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylhc.data_extract.lsa.LSAClient.get_knob_circuits">
<span class="sig-name descname"><span class="pre">get_knob_circuits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">knob_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">optics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://pylhc.github.io/tfs/modules/index.html#tfs.frame.TfsDataFrame" title="(in tfs-pandas v3.1)"><span class="pre">tfs.frame.TfsDataFrame</span></a></span></span><a class="reference internal" href="../_modules/pylhc/data_extract/lsa.html#LSAClient.get_knob_circuits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylhc.data_extract.lsa.LSAClient.get_knob_circuits" title="Permalink to this definition"></a></dt>
<dd><p>Get a dataframe of the structure of the knob. Similar to online model extractor
(KnobExtractor.getKnobHiercarchy)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>knob_name</strong> -- name of the knob.</p></li>
<li><p><strong>optics</strong> -- name of the optics.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> of the knob circuits.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylhc.data_extract.lsa.LSAClient.get_madx_name_from_circuit">
<span class="sig-name descname"><span class="pre">get_madx_name_from_circuit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">circuit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylhc/data_extract/lsa.html#LSAClient.get_madx_name_from_circuit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylhc.data_extract.lsa.LSAClient.get_madx_name_from_circuit" title="Permalink to this definition"></a></dt>
<dd><p>Returns the <code class="docutils literal notranslate"><span class="pre">MAD-X</span></code> Strength Name (Circuit/Knob) from the given circuit name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylhc.data_extract.lsa.LSAClient.get_trim_history">
<span class="sig-name descname"><span class="pre">get_trim_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beamprocess</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">knobs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://pylhc.github.io/omc3/modules/utils.html#omc3.utils.time_tools.AccDatetime" title="(in omc3 v0.2)"><span class="pre">omc3.utils.time_tools.AccDatetime</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://pylhc.github.io/omc3/modules/utils.html#omc3.utils.time_tools.AccDatetime" title="(in omc3 v0.2)"><span class="pre">omc3.utils.time_tools.AccDatetime</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accelerator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'lhc'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="../_modules/pylhc/data_extract/lsa.html#LSAClient.get_trim_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylhc.data_extract.lsa.LSAClient.get_trim_history" title="Permalink to this definition"></a></dt>
<dd><p>Get trim history for knobs between specified times.
If any of the times are not given, all available data in that time-direction
is extracted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>beamprocess</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- Name of the beamprocess.</p></li>
<li><p><strong>knobs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>) -- List of strings of the knobs to check.</p></li>
<li><p><strong>start_time</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">AccDatetime</span></code>) -- Accelerator datetime object.</p></li>
<li><p><strong>end_time</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">AccDatetime</span></code>) -- Accelerator datetime object.</p></li>
<li><p><strong>accelerator</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- Name of the accelerator.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary of trims and their data (as TrimTuples, i.e. NamedTuple of lists of time and data).</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pylhc.data_extract.lsa.LSAMeta">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pylhc.data_extract.lsa.</span></span><span class="sig-name descname"><span class="pre">LSAMeta</span></span><a class="reference internal" href="../_modules/pylhc/data_extract/lsa.html#LSAMeta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylhc.data_extract.lsa.LSAMeta" title="Permalink to this definition"></a></dt>
<dd><p>Metaclass for single instance LSAClient.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pylhc.data_extract.lsa.try_to_acquire_data">
<span class="sig-prename descclassname"><span class="pre">pylhc.data_extract.lsa.</span></span><span class="sig-name descname"><span class="pre">try_to_acquire_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.10)"><span class="pre">Callable</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylhc/data_extract/lsa.html#try_to_acquire_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylhc.data_extract.lsa.try_to_acquire_data" title="Permalink to this definition"></a></dt>
<dd><p>Tries to get data from function multiple times.
TODO: Move to omc3 as is also used there in BBQ extraction.</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>function (Callable): function to be called, e.g. db.get
args, kwargs: arguments passed to <code class="docutils literal notranslate"><span class="pre">function</span></code></p>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Return arguments of <code class="docutils literal notranslate"><span class="pre">function</span></code></p>
</dd>
</dl>
</dd></dl>

</section>
<span class="target" id="module-pylhc.data_extract.timber"></span><section id="timber">
<h2>Timber<a class="headerlink" href="#timber" title="Permalink to this headline"></a></h2>
<p>This module provides useful functions to conveniently wrap the functionality of <code class="docutils literal notranslate"><span class="pre">pytimber</span></code>.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pylhc.data_extract.timber.find_exact_time_for_beamprocess">
<span class="sig-prename descclassname"><span class="pre">pylhc.data_extract.timber.</span></span><span class="sig-name descname"><span class="pre">find_exact_time_for_beamprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">acc_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pylhc.github.io/omc3/modules/utils.html#omc3.utils.time_tools.AccDatetime" title="(in omc3 v0.2)"><span class="pre">omc3.utils.time_tools.AccDatetime</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://pylhc.github.io/omc3/modules/utils.html#omc3.utils.time_tools.AccDatetime" title="(in omc3 v0.2)"><span class="pre">omc3.utils.time_tools.AccDatetime</span></a></span></span><a class="reference internal" href="../_modules/pylhc/data_extract/timber.html#find_exact_time_for_beamprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylhc.data_extract.timber.find_exact_time_for_beamprocess" title="Permalink to this definition"></a></dt>
<dd><p>Finds the last entry where HX:SRMP-POW equals 123. Which is, according to the online model
KnobExtractor, the timing event for SQUEEZE or RAMP.
I don’t think this is correct (jdilly).</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="constants.html" class="btn btn-neutral float-left" title="Constants Definitions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="utils.html" class="btn btn-neutral float-right" title="Utilities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>